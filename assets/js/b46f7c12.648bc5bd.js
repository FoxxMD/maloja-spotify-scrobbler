"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([["160"],{5126:function(e,t,r){r.r(t),r.d(t,{default:()=>u,frontMatter:()=>l,metadata:()=>n,assets:()=>o,toc:()=>c,contentTitle:()=>a});var n=JSON.parse('{"id":"installation/service","title":"As a Service","description":"If you have multi-scrobbler installed locally you can enable it to run as a background service when you login.","source":"@site/docs/installation/service.md","sourceDirName":"installation","slug":"/installation/service","permalink":"/multi-scrobbler/docs/installation/service","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/installation/service.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"As a Service"},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/multi-scrobbler/docs/installation/"},"next":{"title":"Configuration","permalink":"/multi-scrobbler/docs/category/configuration"}}'),s=r("5893"),i=r("65");let l={sidebar_position:2,title:"As a Service"},a="Systemd",o={},c=[{value:"Create A Unit File",id:"create-a-unit-file",level:2},{value:"Node.js Installs",id:"nodejs-installs",level:3},{value:"Start the Service",id:"start-the-service",level:2}];function d(e){let t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["If you have multi-scrobbler installed ",(0,s.jsx)(t.a,{href:"/multi-scrobbler/docs/installation/#nodejs",children:"locally"})," you can enable it to run as a background service when you login."]}),"\n",(0,s.jsx)(t.p,{children:"Before running as a service you should run it at least once in the foreground to ensure it can start up correctly!"}),"\n",(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"systemd",children:(0,s.jsx)(t.a,{href:"https://systemd.io/",children:"Systemd"})})}),"\n",(0,s.jsxs)(t.p,{children:["Systemd is system and service manager that is used by ",(0,s.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Systemd#Adoption",children:"most popular linux distros"})," including ",(0,s.jsx)(t.a,{href:"https://wiki.ubuntu.com/SystemdForUpstartUsers",children:"Ubuntu"}),", ",(0,s.jsx)(t.a,{href:"https://docs.fedoraproject.org/en-US/quick-docs/understanding-and-administering-systemd/",children:"Fedora"}),", Pop!_OS, ",(0,s.jsx)(t.a,{href:"https://wiki.debian.org/systemd",children:"Debian"}),", and ",(0,s.jsx)(t.a,{href:"https://wiki.archlinux.org/title/systemd",children:"Arch"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["This setup will create a ",(0,s.jsx)(t.a,{href:"https://wiki.archlinux.org/title/systemd/User",children:"user service"})," that runs on login."]}),"\n",(0,s.jsx)(t.h2,{id:"create-a-unit-file",children:"Create A Unit File"}),"\n",(0,s.jsx)(t.p,{children:"Create a new service file for multi-scrobbler under your HOME config:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"mkdir -p ~/.config/systemd/user\ntouch ~/.config/systemd/user/multi-scrobbler.service\n"})}),"\n",(0,s.jsxs)(t.p,{children:["In a text editor add contents below to the file you created, ",(0,s.jsx)(t.code,{children:"multi-scrobbler.service"}),":"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ini",children:"[Unit]\nDescription=multi-scrobbler\nAfter=network.target\n\n[Service]\nType=simple\nExecStart=flatpak run io.github.multiscrobbler\nRestart=no\n\n[Install]\nWantedBy=default.target\n"})}),"\n",(0,s.jsxs)(t.p,{children:["The above assumes you ",(0,s.jsx)(t.a,{href:"/multi-scrobbler/docs/installation/#flatpak",children:"installed multi-scrobbler using flatpak"})]}),"\n",(0,s.jsx)(t.h3,{id:"nodejs-installs",children:"Node.js Installs"}),"\n",(0,s.jsxs)(t.p,{children:["If you are running multi-scrobbler directly with ",(0,s.jsx)(t.a,{href:"/multi-scrobbler/docs/installation/#nodejs",children:"nodejs from a clone repository directory"})," you should modify the ",(0,s.jsx)(t.code,{children:"[Service]"}),":"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ini",children:"[Service]\nType=simple\nWorkingDirectory=/path/to/multi-scrobbler/directory\nExecStart=node src/index.js\nRestart=no\n"})}),"\n",(0,s.jsx)(t.h2,{id:"start-the-service",children:"Start the Service"}),"\n",(0,s.jsx)(t.p,{children:"Save the file then run:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"systemctl daemon-reload\nsystemctl --user enable multi-scrobbler.service\nsystemctl --user start multi-scrobbler.service\n"})}),"\n",(0,s.jsx)(t.p,{children:"This will"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"scan for new services and pickup our multi-scrobbler user service"}),"\n",(0,s.jsx)(t.li,{children:"enable the service to run at login automatically"}),"\n",(0,s.jsx)(t.li,{children:"start the service now"}),"\n"]}),"\n",(0,s.jsx)(t.h1,{id:"other-service-methods",children:"Other Service Methods"}),"\n",(0,s.jsx)(t.p,{children:"Open a PR if you would like to document setting up multi-scrobbler for other service managers!"})]})}function u(e={}){let{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},65:function(e,t,r){r.d(t,{Z:function(){return a},a:function(){return l}});var n=r(7294);let s={},i=n.createContext(s);function l(e){let t=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);